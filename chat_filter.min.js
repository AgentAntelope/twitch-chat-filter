var BLOCKED_WORDS=["left","right","up","down","start","select","a","b","democracy","anarchy","upu","uo","pu","uup","uip","ip","dwon","donw","dowm","dow","dowqn","doiwn","diwn","ldown","donwn","odwn","downm","dpwn","downw","downd","dowj","lef","lfet","lefft","letf","leftr","leftrt","leftl","lwft","riight","rightr","roght","righ","ight","righr","rigt","anrachy","anrchy","anarch","amarchy","democrazy","demarchy","demcracy","democarcy","democrasy","democacy","demoocracy","oligarchy","bureaucracy"];var FILTER_REGEX=new RegExp("^\s*(("+BLOCKED_WORDS.join("|")+")\d?)+\s*$","i");var MINIMUM_TEXT_LENGTH=3;var MAXIMUM_SPECIAL_CHARACTERS=2;var REFRESH_MILLISECONDS=100;$("<style type='text/css' >"+".segmented_tabs li li a.CommandsToggle {"+"width: 50px;"+"padding-left: 0px;"+"padding-top: 0;"+"height: 8px;"+"line-height: 115%;"+"}"+".segmented_tabs li li a.ChatToggle {"+"width: 35px;"+"padding-left: 15px;"+"padding-top: 0;"+"height: 8px;"+"line-height: 115%;"+"}"+"#chat_line_list li { display:none }"+"#chat_line_list li.fromjtv,"+"#chat_line_list.showSpam li.cSpam,"+"#chat_line_list.showSafe li.cSafe {"+"display:inherit;"+"}"+" </style>").appendTo("head");var CHAT_BUTTON=$("ul.segmented_tabs li a").first();CHAT_BUTTON.css("width",CHAT_BUTTON.width()-71);$("<li><a class='CommandsToggle'>Commands</a><a class='ChatToggle'>Talk</a></li>").insertAfter(CHAT_BUTTON);$(".CommandsToggle").click(function(){$(this).toggleClass("selected");$("#chat_line_list").toggleClass("showSpam")});$(".ChatToggle").click(function(){$(this).toggleClass("selected");$("#chat_line_list").toggleClass("showSafe")});$(".ChatToggle").click();CurrentChat.line_buffer=800;setInterval(function(){"use strict";$('#chat_line_list li:not(.cSpam):not(.cSafe)').each(function(){var chatLine=$(this);var chatText=chatLine.find(".chat_line").text().trim();if(chatLine.length<=0){return}if(chatText.length<MINIMUM_TEXT_LENGTH||chatText.match(FILTER_REGEX)){chatLine.addClass("cSpam");return}var nonASCII=0;for(var i=0;i<chatText.length;i++){if(chatText.charCodeAt(i)>127){nonASCII++;if(nonASCII>MAXIMUM_SPECIAL_CHARACTERS){chatLine.addClass("cSpam");return}}}chatLine.addClass("cSafe")});if(CurrentChat.currently_scrolling){CurrentChat.scroll_chat()}},REFRESH_MILLISECONDS);
