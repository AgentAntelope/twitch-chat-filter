var BLOCKED_WORDS=["left","right","up","down","start","select","a","b","democracy","anarchy","upu","uo","pu","uup","uip","ip","dwon","donw","dowm","dow","dowqn","doiwn","diwn","ldown","donwn","odwn","downm","dpwn","downw","downd","dowj","lef","lfet","lefft","letf","leftr","leftrt","leftl","lwft","riight","rightr","roght","righ","ight","righr","rigt","anrachy","anrchy","anarch","amarchy","democrazy","demarchy","demcracy","democarcy","democrasy","democacy","demoocracy","democary","oligarchy","bureaucracy","monarchy","alt f4"],MINIMUM_MESSAGE_LENGTH=3,MAXIMUM_NON_ASCII_CHARACTERS=2,REFRESH_MILLISECONDS=100,commands_regex=new RegExp("^(("+BLOCKED_WORDS.join("|")+")\\d?)+$","i"),message_is_spam=function(a){"use strict";if(a=a.replace(/\s/g,""),a.length<MINIMUM_MESSAGE_LENGTH)return!0;if(a.match(commands_regex))return!0;for(var b=0,c=0;c<a.length;c++)if(a.charCodeAt(c)>127&&(b++,b>MAXIMUM_NON_ASCII_CHARACTERS))return!0;return!1};$("<style type='text/css' >.segmented_tabs li li a.CommandsToggle {width: 50px;padding-left: 0px;padding-top: 0;height: 8px;line-height: 115%;}.segmented_tabs li li a.ChatToggle {width: 35px;padding-left: 15px;padding-top: 0;height: 8px;line-height: 115%;}#chat_line_list li { display:none }#chat_line_list li.fromjtv,#chat_line_list.showSpam li.cSpam,#chat_line_list.showSafe li.cSafe {display:inherit;} </style>").appendTo("head");var chat_button=$("ul.segmented_tabs li a").first();chat_button.css("width",chat_button.width()-71),$("<li><a class='CommandsToggle'>Commands</a><a class='ChatToggle'>Talk</a></li>").insertAfter(chat_button),$(".CommandsToggle").click(function(){$(this).toggleClass("selected"),$("#chat_line_list").toggleClass("showSpam")}),$(".ChatToggle").click(function(){$(this).toggleClass("selected"),$("#chat_line_list").toggleClass("showSafe")}),$(".ChatToggle").click(),CurrentChat.line_buffer=800,setInterval(function(){"use strict";$("#chat_line_list li:not(.cSpam):not(.cSafe)").each(function(){var a=$(this),b=a.find(".chat_line").text();message_is_spam(b)?a.addClass("cSpam"):a.addClass("cSafe")}),CurrentChat.currently_scrolling&&CurrentChat.scroll_chat()},REFRESH_MILLISECONDS);
